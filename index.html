<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Â¿San ValentÃ­n?</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Pacifico&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#ffd1dc;
      --bg2:#f7b7d2;
      --ink:#b84a6b;
      --btn:#f7a9c3;
      --btn2:#ffd7e6;
      --shadow: 0 12px 30px rgba(0,0,0,.12);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--ink);
      font-family:"Patrick Hand", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 900px at 50% 20%, var(--bg2), var(--bg1));
      overflow:hidden;
    }

    /* OPTIONAL background video (turn on by removing display:none) */
    .bgVideo{
      position:fixed; inset:0;
      width:100%; height:100%;
      object-fit:cover;
      opacity:.22;
      z-index:-3;
      display:none; /* <â€” remove this line to enable */
    }
    .overlay{
      position:fixed; inset:0;
      background: radial-gradient(900px 700px at 50% 30%, rgba(255,255,255,.22), rgba(255,255,255,0));
      z-index:-2;
      pointer-events:none;
    }

    /* Floating hearts */
    .hearts{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:-1;
    }
    .heart{
      position:absolute;
      width:18px; height:18px;
      transform:rotate(45deg);
      background:#ff5a86;
      opacity:.55;
      border-radius:4px;
      animation: floatUp linear infinite;
      filter: drop-shadow(0 10px 10px rgba(0,0,0,.10));
    }
    .heart:before,.heart:after{
      content:"";
      position:absolute;
      width:18px; height:18px;
      background:#ff5a86;
      border-radius:50%;
    }
    .heart:before{left:-9px; top:0}
    .heart:after{left:0; top:-9px}
    @keyframes floatUp{
      from{transform:translateY(20vh) rotate(45deg); opacity:.0}
      10%{opacity:.55}
      to{transform:translateY(-120vh) rotate(45deg); opacity:0}
    }

    /* Card */
    .wrap{
      height:100%;
      display:grid;
      place-items:center;
      padding:24px;
    }
    .card{
      width:min(520px, 92vw);
      background:rgba(255,255,255,.25);
      border:1px solid rgba(255,255,255,.35);
      border-radius:28px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      padding:28px 22px;
      text-align:center;
      position:relative;
      overflow:hidden;
    }

    h1{
      font-family:"Pacifico","Patrick Hand",cursive;
      font-weight:400;
      font-size: clamp(28px, 4vw, 44px);
      margin:6px 0 10px;
      letter-spacing:.2px;
    }
    .sub{
      font-size:20px;
      opacity:.9;
      margin:0 0 18px;
    }

    .btnRow{
      display:flex;
      justify-content:center;
      gap:14px;
      margin-top:18px;
      flex-wrap:wrap;
      position:relative;
      min-height:90px;
    }

    button{
      border:0;
      border-radius:999px;
      padding:12px 18px;
      font-family:inherit;
      font-size:18px;
      cursor:pointer;
      color:#8c2d4a;
      min-width:150px;
      box-shadow: 0 10px 18px rgba(0,0,0,.12);
      transition: transform .35s cubic-bezier(.17,.67,.28,1.2),
                  box-shadow .25s ease,
                  background .12s ease;
    }
    button:hover{transform:translateY(-2px)}
    button:active{transform:translateY(0px) scale(.98)}
    .yes{background:var(--btn)}
    .no{background:var(--btn2)}

    /* Pages */
    .page{display:none}
    .page.active{display:block}

    .art{
      width:min(240px, 70vw);
      margin:10px auto 6px;
    }
    .tinyNote{
      font-size:16px;
      opacity:.8;
      margin-top:10px;
    }

    /* Bouquet layout */
    .bouquetWrap{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
      align-items:center;
      margin-top:10px;
    }
    .bubbleRow{
      display:flex;
      gap:12px;
      justify-content:space-between;
      align-items:flex-start;
      flex-wrap:wrap;
    }
    .bubble{
      background:rgba(255,255,255,.45);
      border:1px solid rgba(255,255,255,.45);
      border-radius:16px;
      padding:12px 12px;
      width:min(230px, 90vw);
      text-align:left;
      box-shadow: 0 10px 20px rgba(0,0,0,.10);
    }

    .frame{
      background:rgba(255,255,255,.25);
      border:3px solid rgba(184,74,107,.7);
      border-radius:22px;
      padding:16px;
      position:relative;
      box-shadow: var(--shadow);
      margin:0 auto;
      width:min(320px, 92vw);
    }
    .frame:before{
      content:"";
      position:absolute; inset:-10px;
      border:3px dashed rgba(184,74,107,.35);
      border-radius:28px;
      pointer-events:none;
    }

    /* Sound button */
    .topRight{
      position:fixed;
      top:14px; right:14px;
      display:flex; gap:10px;
      z-index:5;
    }
    .chip{
      border:1px solid rgba(255,255,255,.55);
      background:rgba(255,255,255,.30);
      backdrop-filter: blur(10px);
      border-radius:999px;
      padding:10px 12px;
      box-shadow: 0 10px 20px rgba(0,0,0,.10);
      cursor:pointer;
      font-family:inherit;
      color:#8c2d4a;
      min-width:auto;
    }
  </style>
</head>

<body>
  <!-- OPTIONAL background video -->
  <video class="bgVideo" id="bgVideo" autoplay muted loop playsinline>
    <source src="valentine-bg.mp4" type="video/mp4">
  </video>
  <div class="overlay"></div>

  <div class="topRight">
    <button class="chip" id="soundBtn">ğŸ”‡</button>
  </div>

  <div class="hearts" id="hearts"></div>

  <div class="wrap">
    <div class="card">

      <!-- PAGE 1 -->
      <section class="page active" id="pageAsk">
        <h1 id="titleLine">Oye Jennifer,</h1>
        <p class="sub" id="questionLine">Â¿Quieres ser mi San ValentÃ­n?</p>

        <svg class="art" viewBox="0 0 260 160" aria-hidden="true">
          <g fill="none" stroke="rgba(184,74,107,.9)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
            <path d="M80 55c-10-18-40-12-40 10 0 26 40 40 40 40s40-14 40-40c0-22-30-28-40-10z" fill="rgba(255,90,134,.35)"/>
            <path d="M170 62c-8-14-30-9-30 8 0 19 30 30 30 30s30-11 30-30c0-17-22-22-30-8z" fill="rgba(255,90,134,.25)"/>
            <path d="M115 120c30 12 62 8 92-12" opacity=".5"/>
          </g>
        </svg>

        <div class="btnRow">
          <button class="yes" id="yesBtn">SÃ ğŸ’—</button>
          <button class="no" id="noBtn">NO</button>
        </div>

        <div class="tinyNote">Si intenta presionar â€œNOâ€, se va a mover ğŸ˜„</div>
      </section>

      <!-- PAGE 2 (optional if you ever allow NO â€” kept for completeness) -->
      <section class="page" id="pageNo">
        <svg class="art" viewBox="0 0 240 170" aria-hidden="true">
          <g fill="none" stroke="rgba(184,74,107,.95)" stroke-width="6" stroke-linecap="round" stroke-linejoin="round">
            <path d="M120 56c-18-30-62-18-62 16 0 42 62 64 62 64s62-22 62-64c0-34-44-46-62-16z" fill="rgba(255,90,134,.35)"/>
            <path d="M120 55l-10 22 18 14-22 16 10 26" />
            <path d="M120 55l10 22-18 14 22 16-10 26" />
          </g>
          <circle cx="92" cy="74" r="4" fill="#b84a6b"/>
          <circle cx="148" cy="74" r="4" fill="#b84a6b"/>
          <path d="M105 95c8 6 22 6 30 0" stroke="#b84a6b" stroke-width="4"/>
        </svg>

        <h1>IntÃ©ntalo otra vez :(</h1>
        <div class="btnRow" style="min-height:auto;">
          <button class="yes" id="tryAgainBtn">Otra vez</button>
        </div>
      </section>

      <!-- PAGE 3 (YES) -->
      <section class="page" id="pageYes">
        <h1>Tu ramo de rosas</h1>

        <div class="bouquetWrap">
          <div class="bubbleRow">
            <div class="bubble" id="leftBubble">Siempre te voy a amar pase lo que pase ğŸ’˜</div>
            <div class="bubble" id="rightBubble">Siempre vas a ser mi Ãºnica opciÃ³n ğŸ˜ŒğŸ’—</div>
          </div>

          <div class="frame">
            <svg viewBox="0 0 260 260" width="100%" aria-hidden="true">
              <g fill="none" stroke="#b84a6b" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                <path d="M70 70c15-15 40-15 55 0 15-15 40-15 55 0 20 20 0 50-20 60-15 8-25 12-35 18-10-6-20-10-35-18-20-10-40-40-20-60z" fill="rgba(255,90,134,.35)"/>
                <path d="M55 165c55-15 95-15 150 0" opacity=".5"/>
                <path d="M95 160l-20 70" />
                <path d="M130 160v70" />
                <path d="M165 160l20 70" />
                <path d="M70 205c40 18 80 18 120 0" opacity=".5"/>
                <path d="M92 232c26 12 50 12 76 0" opacity=".5"/>
                <path d="M85 198c12 10 28 12 45 6" opacity=".6"/>
                <path d="M175 198c-12 10-28 12-45 6" opacity=".6"/>
                <path d="M85 200c10 10 10 10 10 10" />
                <path d="M175 200c-10 10-10 10-10 10" />
                <path d="M78 212c20 20 84 20 104 0" />
              </g>
              <path d="M78 190c34 18 70 18 104 0" fill="rgba(255,255,255,.25)"/>
              <path d="M90 200c18 10 62 10 80 0" fill="rgba(255,255,255,.20)"/>
              <path d="M128 210c-16 18-14 26 2 34 16-8 18-16 2-34z" fill="rgba(247,169,195,.75)" stroke="#b84a6b" stroke-width="3"/>
            </svg>
          </div>

          <div class="btnRow" style="min-height:auto;">
            <button class="no" id="restartBtn">Empezar de nuevo</button>
            <button class="yes" id="shareBtn">Copiar enlace</button>
          </div>

          <div class="tinyNote">Ãbrelo en el celular y compÃ¡rtelo con ella ğŸ’—</div>
        </div>
      </section>

    </div>
  </div>

  <script>
    // Hearts
    const hearts = document.getElementById("hearts");
    const HEARTS_COUNT = 18;

    function spawnHearts(){
      hearts.innerHTML = "";
      for(let i=0;i<HEARTS_COUNT;i++){
        const h = document.createElement("div");
        h.className = "heart";
        const left = Math.random()*100;
        const delay = Math.random()*4;
        const dur = 6 + Math.random()*8;
        const size = 10 + Math.random()*18;

        h.style.left = left + "vw";
        h.style.bottom = (-10 - Math.random()*60) + "vh";
        h.style.animationDelay = delay + "s";
        h.style.animationDuration = dur + "s";
        h.style.width = size + "px";
        h.style.height = size + "px";
        h.style.opacity = (0.25 + Math.random()*0.5).toFixed(2);
        hearts.appendChild(h);
      }
    }
    spawnHearts();
    setInterval(spawnHearts, 9000);

    // Pages
    const pageAsk = document.getElementById("pageAsk");
    const pageNo  = document.getElementById("pageNo");
    const pageYes = document.getElementById("pageYes");

    function show(page){
      [pageAsk,pageNo,pageYes].forEach(p=>p.classList.remove("active"));
      page.classList.add("active");
    }

    // Buttons
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const tryAgainBtn = document.getElementById("tryAgainBtn");
    const restartBtn = document.getElementById("restartBtn");
    const shareBtn = document.getElementById("shareBtn");

    // IMPOSSIBLE NO + gradual YES growth (10 tries)
    // NO IMPOSIBLE (sin crecer el botÃ³n SÃ) â€” funciona en celular y compu
const card = document.querySelector(".card");

function teleportNo(e){
  if(e) e.preventDefault();

  const rect = card.getBoundingClientRect();
  const padding = 10;

  const maxX = rect.width - noBtn.offsetWidth - padding;
  const maxY = rect.height - noBtn.offsetHeight - padding;

  const x = Math.random() * Math.max(0, maxX);
  const y = Math.random() * Math.max(0, maxY);

  // Ensure it can move freely inside the card
  card.style.position = "relative";
  noBtn.style.position = "absolute";
  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
}

/* Desktop hover */
noBtn.addEventListener("mouseenter", teleportNo);

/* Mobile tap â€” escape every time */
noBtn.addEventListener("touchstart", teleportNo, {passive:false});
noBtn.addEventListener("touchend", teleportNo, {passive:false});
noBtn.addEventListener("click", teleportNo);

      // gradual growth across 10 tries (total about +120%)
      const growthStep = 1.2 / MAX_TRIES;
      yesScale += growthStep;

      yesBtn.style.transform = `scale(${yesScale})`;
      yesBtn.style.boxShadow = `0 0 ${20*yesScale}px rgba(255, 80, 130, 0.7)`;
    }

    // Desktop hover
    noBtn.addEventListener("mouseenter", teleportNo);

    // Mobile touch
    noBtn.addEventListener("touchstart", (e)=>{
      e.preventDefault();
      teleportNo();
    }, {passive:false});

    // If somehow clicked, still escape
    noBtn.addEventListener("click", (e)=>{
      e.preventDefault();
      teleportNo();
    });

    // YES goes to bouquet
    yesBtn.addEventListener("click", ()=> show(pageYes));

    // Restart resets everything
    restartBtn.addEventListener("click", ()=>{
      attempts = 0;
      yesScale = 1;
      yesBtn.style.transform = "scale(1)";
      yesBtn.style.boxShadow = "";
      noBtn.style.position = "static";
      noBtn.style.left = "";
      noBtn.style.top = "";
      show(pageAsk);
    });

    // (Optional) kept for completeness
    tryAgainBtn?.addEventListener("click", ()=>{
      show(pageAsk);
    });

    // Copy share link
    shareBtn.addEventListener("click", async ()=>{
      try{
        await navigator.clipboard.writeText(location.href);
        shareBtn.textContent = "Â¡Copiado! âœ…";
        setTimeout(()=>shareBtn.textContent="Copiar enlace", 1400);
      }catch(e){
        alert("No se pudo copiar. Copia el enlace desde la barra de direcciÃ³n.");
      }
    });

    // Sound toggle (if you enable bg video)
    const bgVideo = document.getElementById("bgVideo");
    const soundBtn = document.getElementById("soundBtn");
    soundBtn.addEventListener("click", ()=>{
      if(!bgVideo) return;
      bgVideo.muted = !bgVideo.muted;
      soundBtn.textContent = bgVideo.muted ? "ğŸ”‡" : "ğŸ”Š";
    });
  </script>
</body>
</html>
